"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[102],{9102:function(t,o,e){e.r(o),e.d(o,{default:function(){return I}});var s=e(3396),l=e(9242),r=e(7139);const c=t=>((0,s.dD)("data-v-194ff9fe"),t=t(),(0,s.Cn)(),t),n={class:"mt-6 container"},a=c((()=>(0,s._)("h1",{class:"text-center py-5 border-5 border-bottom w-75 mx-auto"}," 我的收藏 ",-1))),i={class:"mt-6 favo-h4"},d={class:"row"},u={class:"d-flex justify-content-center col-8 mx-auto mt-6"},h={class:"table align-middle"},p=c((()=>(0,s._)("th",{class:"mb-2"},"商品資訊",-1))),g=c((()=>(0,s._)("th",null,"價格",-1))),b=c((()=>(0,s._)("td",null,null,-1))),m={class:"text-end"},_=["src"],v={key:0},f={key:1},w={class:"text-black-50"},k={class:"text-end"},x=["onClick"],y=["onClick"],C={class:"mt-3 text-center"};function P(t,o,e,c,P,S){return(0,s.wg)(),(0,s.iD)("body",null,[(0,s._)("div",n,[a,(0,s.wy)((0,s._)("h3",i," 您的收藏清單是空的 ! ",512),[[l.F8,0==P.showProduct]]),(0,s._)("div",d,[(0,s._)("div",u,[(0,s.wy)((0,s._)("table",h,[(0,s._)("thead",null,[(0,s._)("tr",null,[p,g,b,(0,s._)("td",m,[(0,s._)("button",{class:"btn btn-danger mx-2",onClick:o[0]||(o[0]=(...t)=>S.removeAll&&S.removeAll(...t))}," 清空所有 ")])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(P.showProduct,((o,e)=>((0,s.wg)(),(0,s.iD)("tbody",{key:e,class:"w-100"},[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("img",{src:o.imageUrl,alt:"",style:{width:"100px",height:"100px"},class:"pe-2"},null,8,_),(0,s.Uk)(" "+(0,r.zw)(o.title),1)]),o.price==o.origin_price?((0,s.wg)(),(0,s.iD)("td",v," NT."+(0,r.zw)(t.$filters.currency(o.origin_price)),1)):((0,s.wg)(),(0,s.iD)("td",f,"NT."+(0,r.zw)(t.$filters.currency(o.price)),1)),(0,s._)("td",null,[(0,s._)("del",w,"NT."+(0,r.zw)(t.$filters.currency(o.origin_price)),1)]),(0,s._)("td",k,[(0,s._)("button",{onClick:t=>S.removeFromFavorites(o),class:"btn btn-outline-danger btn-lg mx-2"}," 刪除 ",8,x),(0,s._)("button",{class:"btn btn-outline-success btn-lg mx-2",onClick:(0,l.iM)((t=>S.addCart(o.id)),["prevent"])}," 加入購物車 ",8,y)])])])))),128))],512),[[l.F8,0!=P.showProduct]])])]),(0,s._)("div",C,[(0,s._)("button",{class:"btn btn-outline-secondary btn-lg mx-2",onClick:o[1]||(o[1]=(...t)=>S.backHome&&S.backHome(...t))}," 返回首頁 "),(0,s._)("button",{class:"btn btn-outline-secondary btn-lg mx-2",onClick:o[2]||(o[2]=(...t)=>S.goShop&&S.goShop(...t))}," 繼續購物 ")])])])}e(560);var S={data(){return{favoriteItems:[],products:[],showProduct:[]}},methods:{removeFromFavorites(t){this.showProduct=this.showProduct.filter((o=>o.id!==t.id)),localStorage.getItem("favorites")},backHome(){this.$router.push("/")},goShop(){this.$router.go(-1)},getProduct(){const t="https://vue3-course-api.hexschool.io/api/jaydan-api/products/all";this.axios.get(t).then((t=>{console.log(t.data.products),this.products=t.data.products,console.log(this.products);let o=JSON.parse(localStorage.getItem("favorites")),e=o;console.log(typeof o),o?this.favoriteItems.push(this.products.filter((t=>e.includes(t.id)))):this.showProduct=[];const s=this.favoriteItems;this.showProduct=s.flat()}))},addCart(t){const o="https://vue3-course-api.hexschool.io/api/jaydan-api/cart",e={product_id:t,qty:1};this.axios.post(o,{data:e}).then((t=>{console.log(t)}))},removeAll(){console.log("removeAll啟動"),localStorage.clear(),this.showProduct=[]}},created(){this.getProduct()}},D=e(89);const F=(0,D.Z)(S,[["render",P],["__scopeId","data-v-194ff9fe"]]);var I=F}}]);
//# sourceMappingURL=102.ca721222.js.map