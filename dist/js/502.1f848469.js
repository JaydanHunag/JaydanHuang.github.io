"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[502],{7288:function(t,e,a){a.d(e,{Z:function(){return g}});var i=a(3396);const s={class:"product-left"},r=(0,i._)("h3",null,"分類",-1),n=(0,i._)("ul",null,[(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist",class:"router-link"},"ALL")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=TOPS",class:"router-link"},"TOPS")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=PANTS",class:"router-link"},"PANTS")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=OUTER",class:"router-link"},"OUTER")])],-1),o=[r,n];function c(t,e){return(0,i.wg)(),(0,i.iD)("div",s,o)}var l=a(89);const u={},d=(0,l.Z)(u,[["render",c]]);var g=d},9502:function(t,e,a){a.r(e),a.d(e,{default:function(){return G}});var i=a(3396);const s=t=>((0,i.dD)("data-v-7407ce0c"),t=t(),(0,i.Cn)(),t),r=s((()=>(0,i._)("div",{style:{"margin-top":"56px"}},null,-1))),n=s((()=>(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"mt-6"})],-1))),o={class:"container"},c={class:"row"},l={class:"col-2"},u={class:"col-10 mb-3"};function d(t,e,a,s,d,g){const h=(0,i.up)("CateList"),p=(0,i.up)("Card");return(0,i.wg)(),(0,i.iD)("body",null,[r,n,(0,i._)("div",o,[(0,i._)("div",c,[(0,i._)("div",l,[(0,i.Wm)(h,{class:"none"})]),(0,i._)("div",u,[(0,i.Wm)(p)])])])])}var g=a(9485),h=a(742),p=a(7139),_=a(9242);const v={class:"row"},b={"aria-label":"breadcrumb"},m={class:"breadcrumb"},f=(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"#",style:{"text-decoration":"none",color:"black"}},"Home")],-1),w={key:0,class:"breadcrumb-item active","aria-current":"page"},y={key:1,class:"breadcrumb-item active","aria-current":"page"},k={class:"row"},P=["onClick"],x={class:"text-dark text-center h6"},D={class:"d-flex col mt-1 align-items-center justify-content-center"},C={key:0,class:"h5",style:{color:"gray"}},L={key:1,class:"h6",style:{color:"gray"}},j={key:2,class:"h5",style:{"padding-left":"1rem"}},T={class:"btn-group btn-group-sm d-flex justify-content-between"},Z=["onClick"],q=["onClick"],I={class:"mt-6"},M={"aria-label":"Page navigation example"},N={class:"pagination justify-content-center"},z={class:"li-a-active"},H=(0,i._)("i",{class:"bi bi-chevron-left"},null,-1),S=[H],$=["onClick"],A=(0,i._)("i",{class:"bi bi-chevron-right"},null,-1),O=[A];function U(t,e,a,s,r,n){const o=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(o,{active:r.isLoading},null,8,["active"]),(0,i._)("div",null,[(0,i._)("div",null,[(0,i._)("div",v,[(0,i._)("nav",b,[(0,i._)("ol",m,[f,r.cate?((0,i.wg)(),(0,i.iD)("li",y,(0,p.zw)(r.cate),1)):((0,i.wg)(),(0,i.iD)("li",w," ALL "))])])]),(0,i._)("div",k,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.newData,(t=>((0,i.wg)(),(0,i.iD)("div",{id:"productlist",style:{width:"250px"},key:t.id,class:"mt-2 mx-2"},[(0,i._)("a",{href:"#",onClick:(0,_.iM)((e=>n.toProduct(t.id)),["prevent"])},[(0,i._)("div",{class:"productlist-img shadow-lg p-3 mb-3 bg-body rounded",style:(0,p.j5)({backgroundImage:`url(${t.imageUrl})`})},null,4)],8,P),(0,i._)("div",null,[(0,i._)("div",x,(0,p.zw)(t.title),1)]),(0,i._)("div",D,[t.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",C,(0,p.zw)(t.origin_price)+" 元 ",1)),t.price?((0,i.wg)(),(0,i.iD)("del",L,"NT. "+(0,p.zw)(t.origin_price)+" 元",1)):(0,i.kq)("",!0),t.price?((0,i.wg)(),(0,i.iD)("div",j," NT. "+(0,p.zw)(t.price)+" 元 ",1)):(0,i.kq)("",!0)]),(0,i._)("div",T,[(0,i._)("button",{type:"button",class:"btn btn-outline-dark",onClick:e=>n.toProduct(t.id),ref_for:!0,ref:"button"}," 查看更多 ",8,Z),(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>n.addCart(t.id)}," 加到購物車 ",8,q)])])))),128))])]),(0,i._)("div",I,[(0,i._)("nav",M,[(0,i._)("ul",N,[(0,i._)("li",z,[1!=r.current_page?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#","aria-label":"Previous",class:(0,p.C_)([{disabled:1===r.current_page},"pre-a"]),onClick:e[0]||(e[0]=(0,_.iM)(((...t)=>n.subPage&&n.subPage(...t)),["prevent"]))},S,2)):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.total_pages,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:(0,p.C_)({active:t===r.current_page})},[(0,i._)("a",{href:"#",onClick:(0,_.iM)((e=>n.getIndex(t)),["prevent"]),class:(0,p.C_)(["page-number",{focusPage:t===r.current_page}])},(0,p.zw)(t),11,$)],2)))),128)),(0,i._)("li",null,[r.current_page!=r.total_pages?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#","aria-label":"Next",class:(0,p.C_)([{disabled:r.current_page===r.total_pages},"next-a"]),onClick:e[1]||(e[1]=(0,_.iM)(((...t)=>n.addPage&&n.addPage(...t)),["prevent"]))},O,2)):(0,i.kq)("",!0)])])])])])],64)}a(560);var W={data(){return{pagination:{},dataLength:10,perPage:10,filterProduct:[],cate:"",current_page:1,total_pages:"",pagination:[],minData:0,maxData:10,newData:[],isLoading:!1}},inject:["httpMessageState"],components:{HeaderBar:g.Z,Footer:h.Z},methods:{getProduct(){this.isLoading=!0,this.cate="";const t=this.$route.query.category||null;if(console.log(t),t){const e="https://vue3-course-api.hexschool.io/api/jaydan-api/products/all";this.cate=t,this.axios.get(e).then((e=>{this.isLoading=!1,console.log(e),this.dataLength=e.data.products.length,this.filterProduct=e.data.products.filter((e=>e.category===t)),this.total_pages=Math.ceil(this.filterProduct.length/this.perPage),this.getIndex(1)}))}else{const t="https://vue3-course-api.hexschool.io/api/jaydan-api/products/all";this.axios.get(t).then((t=>{this.isLoading=!1,console.log(t),this.pagination=t.data.pagination,this.dataLength=t.data.products.length,this.total_pages=Math.ceil(this.dataLength/this.perPage),this.filterProduct=t.data.products,this.getIndex(1)}))}},getIndex(t=1){this.current_page=t,console.log("index啟動"),console.log(t),this.getNewData(t)},getNewData(t){console.log("newData運作"),console.log(this.minData),console.log(this.maxData),this.minData=this.current_page*this.perPage-this.perPage,this.maxData=this.current_page*this.perPage,this.newData=this.filterProduct.slice(this.minData,this.maxData),console.log(this.newData)},addPage(){this.current_page<this.total_pages?this.current_page+=1:this.current_page=this.total_pages,this.getIndex(this.current_page)},subPage(){this.current_page>1?this.current_page-=1:this.current_page=1,this.getIndex(this.current_page)},toProduct(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/jaydan-api/product/${t}`;this.axios.get(e).then((t=>{this.isLoading=!1,this.$router.push(`/user/product/${t.data.product.id}`)}))},addCart(t){const e="https://vue3-course-api.hexschool.io/api/jaydan-api/cart",a={product_id:t,qty:1};this.isLoading=!0,this.axios.post(e,{data:a}).then((t=>{this.isLoading=!1,this.httpMessageState(t,"加入購物車"),this.qty=1}))}},watch:{$route(t,e){this.getProduct()}},created(){this.getProduct()}},Y=a(89);const B=(0,Y.Z)(W,[["render",U]]);var E=B,F=a(7288),K={data(){return{products:[],currentPage:1,pagination:{},pageTotal:""}},components:{HeaderBar:g.Z,Footer:h.Z,Card:E,CateList:F.Z},methods:{}};const R=(0,Y.Z)(K,[["render",d],["__scopeId","data-v-7407ce0c"]]);var G=R}}]);
//# sourceMappingURL=502.1f848469.js.map