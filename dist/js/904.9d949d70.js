"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[904],{1390:function(t,r,e){e.d(r,{Z:function(){return p}});var s=e(3396),l=e(7139);const d={class:"row progress-div",style:{transform:"translate(2%, 0)"}},o={class:"d-flex justify-content-center fs-2 text-black-50 progress-ul"},a=(0,s._)("i",{class:"bi bi-arrow-right px-3"},null,-1),n=(0,s._)("i",{class:"bi bi-arrow-right px-3"},null,-1);function i(t,r,e,i,c,u){return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("ul",o,[(0,s._)("li",{class:(0,l.C_)({progressActive:"/user/cart"===c.path})},"購物車",2),a,(0,s._)("li",{class:(0,l.C_)({progressActive:"/user/sendorder"===c.path})},"準備結賬",2),n,(0,s._)("li",{class:(0,l.C_)({progressActive:c.path==`/user/checkout/${e.orderId}`})}," 訂單完成 ",2)])])}var c={props:["orderId"],data(){return{path:"",isTrue:!1}},method:{},created(){this.path=this.$route.path,console.log(this.path)}},u=e(89);const h=(0,u.Z)(c,[["render",i]]);var p=h},9812:function(t,r,e){e.r(r),e.d(r,{default:function(){return A}});var s=e(3396),l=e(7139),d=e(9242),o=e.p+"img/check.9ae805ea.png";const a={class:"container"},n=(0,s._)("div",{class:"c-img-div my-4"},[(0,s._)("img",{src:o,alt:"check"})],-1),i={class:"c-h5-div my-4"},c={class:"text-center"},u={class:"table align-middle"},h=(0,s._)("thead",null,[(0,s._)("th",null,"品名"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"單價")],-1),p={class:"text-end"},_=(0,s._)("td",{colspan:"2",class:"text-end"},"總計",-1),g={class:"text-end"},v={class:"table"},w=(0,s._)("th",{width:"100"},"Email",-1),m=(0,s._)("th",null,"姓名",-1),b=(0,s._)("th",null,"收件人電話",-1),y=(0,s._)("th",null,"收件人地址",-1),f=(0,s._)("th",null,"付款狀態",-1),k={key:0},x={key:1,class:"text-success"},z={key:0,class:"text-end"},I=(0,s._)("button",{class:"btn btn-danger"},"確認付款去",-1),D=[I];function $(t,r,e,o,I,$){const O=(0,s.up)("Loading"),j=(0,s.up)("Progress");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(O,{active:I.isLoading},null,8,["active"]),(0,s.Wm)(j,{"order-id":I.orderId},null,8,["order-id"]),(0,s._)("div",a,[n,(0,s._)("div",i,[(0,s._)("h5",c," 恭喜您，已成功建立訂單，您的訂單編號為："+(0,l.zw)(I.orderId),1)]),(0,s._)("form",{class:"row mt-5",onSubmit:r[0]||(r[0]=(0,d.iM)(((...t)=>$.payOrder&&$.payOrder(...t)),["prevent"]))},[(0,s._)("table",u,[h,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,l.zw)(t.product.title),1),(0,s._)("td",null,(0,l.zw)(t.qty)+"/"+(0,l.zw)(t.product.unit),1),(0,s._)("td",p,(0,l.zw)(t.final_total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[_,(0,s._)("td",g,(0,l.zw)(I.order.total),1)])])]),(0,s._)("table",v,[(0,s._)("tbody",null,[(0,s._)("tr",null,[w,(0,s._)("td",null,(0,l.zw)(I.order.user.email),1)]),(0,s._)("tr",null,[m,(0,s._)("td",null,(0,l.zw)(I.order.user.name),1)]),(0,s._)("tr",null,[b,(0,s._)("td",null,(0,l.zw)(I.order.user.tel),1)]),(0,s._)("tr",null,[y,(0,s._)("td",null,(0,l.zw)(I.order.user.address),1)]),(0,s._)("tr",null,[f,(0,s._)("td",null,[I.order.is_paid?((0,s.wg)(),(0,s.iD)("span",x,"付款完成")):((0,s.wg)(),(0,s.iD)("span",k,"尚未付款"))])])])]),!1===I.order.is_paid?((0,s.wg)(),(0,s.iD)("div",z,D)):(0,s.kq)("",!0)],32)])],64)}var O=e(1390),j={data(){return{order:{user:{}},orderId:"",isLoading:!1}},components:{Progress:O.Z},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/jaydan-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,console.log(this.order))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/jaydan-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{console.log(t),t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},C=e(89);const Z=(0,C.Z)(j,[["render",$]]);var A=Z}}]);
//# sourceMappingURL=904.9d949d70.js.map