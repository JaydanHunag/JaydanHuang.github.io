"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[233],{7288:function(t,e,a){a.d(e,{Z:function(){return g}});var i=a(3396);const s={class:"product-left"},n=(0,i._)("h3",null,"分類",-1),r=(0,i._)("ul",null,[(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist",class:"router-link"},"ALL")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=TOPS",class:"router-link"},"TOPS")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=PANTS",class:"router-link"},"PANTS")]),(0,i._)("li",null,[(0,i._)("a",{href:"#/user/productlist?category=OUTER",class:"router-link"},"OUTER")])],-1),o=[n,r];function c(t,e){return(0,i.wg)(),(0,i.iD)("div",s,o)}var l=a(89);const d={},u=(0,l.Z)(d,[["render",c]]);var g=u},4233:function(t,e,a){a.r(e),a.d(e,{default:function(){return G}});var i=a(3396);const s=t=>((0,i.dD)("data-v-7d574ea4"),t=t(),(0,i.Cn)(),t),n=s((()=>(0,i._)("div",{style:{"margin-top":"56px"}},null,-1))),r=s((()=>(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"mt-6"})],-1))),o={class:"container"},c={class:"row"},l={key:0,class:"col-2"},d={class:"col-10 mb-3"};function u(t,e,a,s,u,g){const h=(0,i.up)("CateList"),p=(0,i.up)("Card");return(0,i.wg)(),(0,i.iD)("body",null,[n,r,(0,i._)("div",o,[(0,i._)("div",c,[u.screenWidth>=768?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(h,{class:"none"})])):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i.Wm)(p)])])])])}var g=a(9485),h=a(742),p=a(7139),_=a(9242);const v={class:"row"},m={"aria-label":"breadcrumb"},b={class:"breadcrumb"},w=(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"#",style:{"text-decoration":"none",color:"black"}},"Home")],-1),y={key:0,class:"breadcrumb-item active","aria-current":"page"},f={key:1,class:"breadcrumb-item active","aria-current":"page"},k={class:"row",id:"productlist-div"},D=["onClick"],P={class:"text-dark text-center h6"},x={class:"d-flex col mt-1 align-items-center justify-content-center"},C={key:0,class:"h5",style:{color:"gray"}},L={key:1,class:"h6",style:{color:"gray"}},W={key:2,class:"h5",style:{"padding-left":"1rem"}},j={class:"btn-group btn-group-sm d-flex justify-content-between"},q=["onClick"],S=["onClick"],T={class:"mt-6"},Z={"aria-label":"Page navigation example"},I={class:"pagination justify-content-center"},M={class:"li-a-active"},z=(0,i._)("i",{class:"bi bi-chevron-left"},null,-1),N=[z],H=["onClick"],$=(0,i._)("i",{class:"bi bi-chevron-right"},null,-1),E=[$];function A(t,e,a,s,n,r){const o=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(o,{active:n.isLoading},null,8,["active"]),(0,i._)("div",null,[(0,i._)("div",null,[(0,i._)("div",v,[(0,i._)("nav",m,[(0,i._)("ol",b,[w,n.cate?((0,i.wg)(),(0,i.iD)("li",f,(0,p.zw)(n.cate),1)):((0,i.wg)(),(0,i.iD)("li",y," ALL "))])])]),(0,i._)("div",k,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.newData,(t=>((0,i.wg)(),(0,i.iD)("div",{id:"productlist",key:t.id,class:"mt-2 mx-2"},[(0,i._)("a",{href:"#",onClick:(0,_.iM)((e=>r.toProduct(t.id)),["prevent"])},[(0,i._)("div",{class:"productlist-img shadow-lg p-3 mb-3 bg-body rounded",style:(0,p.j5)({backgroundImage:`url(${t.imageUrl})`})},null,4)],8,D),(0,i._)("div",null,[(0,i._)("div",P,(0,p.zw)(t.title),1)]),(0,i._)("div",x,[t.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",C,(0,p.zw)(t.origin_price)+" 元 ",1)),t.price?((0,i.wg)(),(0,i.iD)("del",L,"NT. "+(0,p.zw)(t.origin_price)+" 元",1)):(0,i.kq)("",!0),t.price?((0,i.wg)(),(0,i.iD)("div",W," NT. "+(0,p.zw)(t.price)+" 元 ",1)):(0,i.kq)("",!0)]),(0,i._)("div",j,[(0,i._)("button",{type:"button",class:"btn btn-outline-dark",onClick:e=>r.toProduct(t.id),ref_for:!0,ref:"button"}," 查看更多 ",8,q),(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>r.addCart(t.id)}," 加到購物車 ",8,S)])])))),128))])]),(0,i._)("div",T,[(0,i._)("nav",Z,[(0,i._)("ul",I,[(0,i._)("li",M,[1!=n.current_page?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#","aria-label":"Previous",class:(0,p.C_)([{disabled:1===n.current_page},"pre-a"]),onClick:e[0]||(e[0]=(0,_.iM)(((...t)=>r.subPage&&r.subPage(...t)),["prevent"]))},N,2)):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.total_pages,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:(0,p.C_)({active:t===n.current_page})},[(0,i._)("a",{href:"#",onClick:(0,_.iM)((e=>r.getIndex(t)),["prevent"]),class:(0,p.C_)(["page-number",{focusPage:t===n.current_page}])},(0,p.zw)(t),11,H)],2)))),128)),(0,i._)("li",null,[n.current_page!=n.total_pages?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"#","aria-label":"Next",class:(0,p.C_)([{disabled:n.current_page===n.total_pages},"next-a"]),onClick:e[1]||(e[1]=(0,_.iM)(((...t)=>r.addPage&&r.addPage(...t)),["prevent"]))},E,2)):(0,i.kq)("",!0)])])])])])],64)}a(560);var O={data(){return{pagination:{},dataLength:10,perPage:10,filterProduct:[],cate:"",current_page:1,total_pages:"",pagination:[],minData:0,maxData:10,newData:[],isLoading:!1}},inject:["httpMessageState"],components:{HeaderBar:g.Z,Footer:h.Z},methods:{getProduct(){this.isLoading=!0,this.cate="";const t=this.$route.query.category||null;if(console.log(t),t){const e="https://vue3-course-api.hexschool.io/api/jaydan-api/products/all";this.cate=t,this.axios.get(e).then((e=>{this.isLoading=!1,console.log(e),this.dataLength=e.data.products.length,this.filterProduct=e.data.products.filter((e=>e.category===t)),this.total_pages=Math.ceil(this.filterProduct.length/this.perPage),this.getIndex(1)}))}else{const t="https://vue3-course-api.hexschool.io/api/jaydan-api/products/all";this.axios.get(t).then((t=>{this.isLoading=!1,console.log(t),this.pagination=t.data.pagination,this.dataLength=t.data.products.length,this.total_pages=Math.ceil(this.dataLength/this.perPage),this.filterProduct=t.data.products,this.getIndex(1)}))}},getIndex(t=1){this.current_page=t,console.log("index啟動"),console.log(t),this.getNewData(t)},getNewData(t){console.log("newData運作"),console.log(this.minData),console.log(this.maxData),this.minData=this.current_page*this.perPage-this.perPage,this.maxData=this.current_page*this.perPage,this.newData=this.filterProduct.slice(this.minData,this.maxData),console.log(this.newData)},addPage(){this.current_page<this.total_pages?this.current_page+=1:this.current_page=this.total_pages,this.getIndex(this.current_page)},subPage(){this.current_page>1?this.current_page-=1:this.current_page=1,this.getIndex(this.current_page)},toProduct(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/jaydan-api/product/${t}`;this.axios.get(e).then((t=>{this.isLoading=!1,this.$router.push(`/user/product/${t.data.product.id}`)}))},addCart(t){const e="https://vue3-course-api.hexschool.io/api/jaydan-api/cart",a={product_id:t,qty:1};this.isLoading=!0,this.axios.post(e,{data:a}).then((t=>{this.isLoading=!1,this.httpMessageState(t,"加入購物車"),this.qty=1}))}},watch:{$route(t,e){this.getProduct()}},created(){this.getProduct()}},U=a(89);const Y=(0,U.Z)(O,[["render",A]]);var B=Y,F=a(7288),K={data(){return{screenWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,products:[],currentPage:1,pagination:{},pageTotal:""}},components:{HeaderBar:g.Z,Footer:h.Z,Card:B,CateList:F.Z},methods:{updateScreenWidth(){this.screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},mounted(){window.addEventListener("resize",this.updateScreenWidth),this.updateScreenWidth()}};const R=(0,U.Z)(K,[["render",u],["__scopeId","data-v-7d574ea4"]]);var G=R}}]);
//# sourceMappingURL=233.a37b47c0.js.map